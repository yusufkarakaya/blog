{"ast":null,"code":"var _jsxFileName = \"/Users/yusuf.karakaya/Desktop/LAB/portfolio/client/src/components/DetailPost.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useContext } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { format } from 'date-fns';\nimport { UserContext } from '../context/UserContext';\nimport Header from './Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function DetailPost() {\n  _s();\n  var _postInfo$author, _postInfo$author2, _postInfo$author3;\n  const [postInfo, setPostInfo] = useState([]);\n  const {\n    userContextInfo\n  } = useContext(UserContext);\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios.get(`http://localhost:8000/api/getpost/${id}`).then(res => {\n      console.log(res.data);\n      setPostInfo(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [id]);\n  function deletePost() {\n    axios.delete(`http://localhost:8000/api/deletepost/${id}`).then(res => {\n      console.log(res.data);\n      navigate('/blog');\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  if (Object.keys(postInfo).length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 12\n    }, this);\n  }\n  const postDate = format(new Date(postInfo.createdAt), 'MM/dd/yyyy');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detail-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-post\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: postInfo.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"by @\", (_postInfo$author = postInfo.author) === null || _postInfo$author === void 0 ? void 0 : _postInfo$author.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" | \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 58\n          }, this), /*#__PURE__*/_jsxDEV(\"time\", {\n            children: [\" \", postDate, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), userContextInfo === ((_postInfo$author2 = postInfo.author) === null || _postInfo$author2 === void 0 ? void 0 : _postInfo$author2.email) && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/editpost/${postInfo._id}`,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"editPost\",\n              children: \"Edit Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: 'http://localhost:8000/' + postInfo.cover,\n        alt: \"blog post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        dangerouslySetInnerHTML: {\n          __html: postInfo.content\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), userContextInfo === ((_postInfo$author3 = postInfo.author) === null || _postInfo$author3 === void 0 ? void 0 : _postInfo$author3.email) && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => deletePost(),\n        className: \"deletePost\",\n        children: \"Delete Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(DetailPost, \"JtgVoJ1XbL6EsxM+MKvxAeQv+Hc=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = DetailPost;\nvar _c;\n$RefreshReg$(_c, \"DetailPost\");","map":{"version":3,"names":["useEffect","useState","useContext","useParams","Link","useNavigate","axios","format","UserContext","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","DetailPost","_s","_postInfo$author","_postInfo$author2","_postInfo$author3","postInfo","setPostInfo","userContextInfo","id","navigate","get","then","res","console","log","data","catch","err","deletePost","delete","Object","keys","length","children","fileName","_jsxFileName","lineNumber","columnNumber","postDate","Date","createdAt","className","title","author","username","email","to","_id","src","cover","alt","dangerouslySetInnerHTML","__html","content","onClick","_c","$RefreshReg$"],"sources":["/Users/yusuf.karakaya/Desktop/LAB/portfolio/client/src/components/DetailPost.jsx"],"sourcesContent":["import { useEffect, useState, useContext } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { format } from 'date-fns';\nimport { UserContext } from '../context/UserContext';\nimport Header from './Header';\n\nexport default function DetailPost() {\n  const [postInfo, setPostInfo] = useState([]);\n  const { userContextInfo } = useContext(UserContext);\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    axios\n      .get(`http://localhost:8000/api/getpost/${id}`)\n      .then((res) => {\n        console.log(res.data);\n        setPostInfo(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [id]);\n\n  function deletePost() {\n    axios\n      .delete(`http://localhost:8000/api/deletepost/${id}`)\n      .then((res) => {\n        console.log(res.data);\n        navigate('/blog');\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  if (Object.keys(postInfo).length === 0) {\n    return <div>Loading...</div>;\n  }\n\n  const postDate = format(new Date(postInfo.createdAt), 'MM/dd/yyyy');\n\n  return (\n    <>\n      <Header />\n      <div className='detail-page'>\n        <div className='admin-post'>\n          <h1>{postInfo.title}</h1>\n          <div>\n            <span>by @{postInfo.author?.username}</span> <span> | </span>\n            <time> {postDate} </time>\n          </div>\n          {userContextInfo === postInfo.author?.email && (\n            <div>\n              <Link to={`/editpost/${postInfo._id}`}>\n                <button className='editPost'>Edit Post</button>\n              </Link>\n            </div>\n          )}\n        </div>\n        <img src={'http://localhost:8000/' + postInfo.cover} alt='blog post' />\n        <p dangerouslySetInnerHTML={{ __html: postInfo.content }}></p>\n        {userContextInfo === postInfo.author?.email && (\n          <button onClick={() => deletePost()} className='deletePost'>\n            Delete Post\n          </button>\n        )}\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}