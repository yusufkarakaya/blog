{"ast":null,"code":"var _jsxFileName = \"/Users/yusuf.karakaya/Desktop/LAB/portfolio/client/src/components/CreatePost.jsx\",\n  _s = $RefreshSig$();\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport { useState } from 'react';\nimport { Navigate, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst modules = {\n  toolbar: [[{\n    header: [1, 2, false]\n  }], ['bold', 'italic', 'underline', 'strike', 'blockquote'], [{\n    list: 'ordered'\n  }, {\n    list: 'bullet'\n  }, {\n    indent: '-1'\n  }, {\n    indent: '+1'\n  }], ['link', 'image'], ['clean']]\n};\nconst formats = ['header', 'bold', 'italic', 'underline', 'strike', 'blockquote', 'list', 'bullet', 'indent', 'link', 'image'];\nexport default function CreatePost() {\n  _s();\n  const [title, setTitle] = useState('');\n  const [summary, setSummary] = useState('');\n  const [content, setContent] = useState('');\n  const [files, setFiles] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const [errors, setErrors] = useState([]);\n  const navigate = useNavigate();\n  async function createNewPost(e) {\n    e.preventDefault();\n    const data = new FormData();\n    data.set('title', title);\n    data.set('summary', summary);\n    data.set('content', content);\n    data.set('file', files[0]);\n    axios.post('http://localhost:8000/api/createpost', data, {\n      withCredentials: true\n    }).then(res => {\n      console.log(res);\n      setRedirect(true);\n    }).catch(err => {\n      console.log(err.response);\n      const errorResponse = err.response.data.errors;\n      const errorArr = [];\n      for (const key of Object.keys(errorResponse)) {\n        errorArr.push(errorResponse[key].message);\n      }\n      setErrors(errorArr);\n    });\n  }\n  if (redirect) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"create-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Create Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"create-form\",\n        onSubmit: createNewPost,\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"error-validation\",\n          children: errors.map((err, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"error-message\",\n            children: err\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Title\",\n          value: title,\n          onChange: e => setTitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"summary\",\n          placeholder: \"Summary\",\n          value: summary,\n          onChange: e => setSummary(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: e => setFiles(e.target.files)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n          modules: modules,\n          formats: formats,\n          value: content,\n          onChange: newValue => setContent(newValue)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(CreatePost, \"5rH7go1bPwvhc0S0vo1/3p45Tgc=\", false, function () {\n  return [useNavigate];\n});\n_c = CreatePost;\nvar _c;\n$RefreshReg$(_c, \"CreatePost\");","map":{"version":3,"names":["ReactQuill","useState","Navigate","useNavigate","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","modules","toolbar","header","list","indent","formats","CreatePost","_s","title","setTitle","summary","setSummary","content","setContent","files","setFiles","redirect","setRedirect","errors","setErrors","navigate","createNewPost","e","preventDefault","data","FormData","set","post","withCredentials","then","res","console","log","catch","err","response","errorResponse","errorArr","key","Object","keys","push","message","to","fileName","_jsxFileName","lineNumber","columnNumber","children","className","onSubmit","map","index","type","placeholder","value","onChange","target","newValue","_c","$RefreshReg$"],"sources":["/Users/yusuf.karakaya/Desktop/LAB/portfolio/client/src/components/CreatePost.jsx"],"sourcesContent":["import ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport { useState } from 'react';\nimport { Navigate, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst modules = {\n  toolbar: [\n    [{ header: [1, 2, false] }],\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n    [\n      { list: 'ordered' },\n      { list: 'bullet' },\n      { indent: '-1' },\n      { indent: '+1' },\n    ],\n    ['link', 'image'],\n    ['clean'],\n  ],\n};\nconst formats = [\n  'header',\n  'bold',\n  'italic',\n  'underline',\n  'strike',\n  'blockquote',\n  'list',\n  'bullet',\n  'indent',\n  'link',\n  'image',\n];\n\nexport default function CreatePost() {\n  const [title, setTitle] = useState('');\n  const [summary, setSummary] = useState('');\n  const [content, setContent] = useState('');\n  const [files, setFiles] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const [errors, setErrors] = useState([]);\n  const navigate = useNavigate();\n\n  async function createNewPost(e) {\n    e.preventDefault();\n    const data = new FormData();\n    data.set('title', title);\n    data.set('summary', summary);\n    data.set('content', content);\n    data.set('file', files[0]);\n\n    axios\n      .post('http://localhost:8000/api/createpost', data, {\n        withCredentials: true,\n      })\n      .then((res) => {\n        console.log(res);\n        setRedirect(true);\n      })\n      .catch((err) => {\n        console.log(err.response);\n        const errorResponse = err.response.data.errors;\n        const errorArr = [];\n        for (const key of Object.keys(errorResponse)) {\n          errorArr.push(errorResponse[key].message);\n        }\n        setErrors(errorArr);\n      });\n  }\n\n  if (redirect) {\n    return <Navigate to='/' />;\n  }\n\n  return (\n    <>\n      <main className='create-main'>\n        <h1>Create Post</h1>\n        <form className='create-form' onSubmit={createNewPost}>\n          <ul className='error-validation'>\n            {errors.map((err, index) => (\n              <li className='error-message' key={index}>\n                {err}\n              </li>\n            ))}\n          </ul>\n          <input\n            type='text'\n            placeholder='Title'\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n          />\n          <input\n            type='summary'\n            placeholder='Summary'\n            value={summary}\n            onChange={(e) => setSummary(e.target.value)}\n          />\n          <input type='file' onChange={(e) => setFiles(e.target.files)} />\n          <ReactQuill\n            modules={modules}\n            formats={formats}\n            value={content}\n            onChange={(newValue) => setContent(newValue)}\n          />\n          <button type='submit'>Create</button>\n        </form>\n      </main>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}